(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40a793ce"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1451:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"settingWorkarea-wrap"}},[a("div",{staticClass:"tree-wrap"},[a("div",{staticClass:"button"}),a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入搜索类别",size:"small",clearable:""},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},[a("template",{slot:"append"},[a("i",{staticClass:"el-icon-search"})])],2),a("el-tree",{ref:"attrList",attrs:{data:e.store.store.state.SettingOrganizationStore.tree,props:e.defaultProps,"highlight-current":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node;t.data;return a("span",{staticClass:"span-ellipsis"},[a("span",{attrs:{title:r.label}},[e._v(e._s(r.label))])])}}])})],1),a("div",{staticClass:"data-wrap"},[a("div",{staticClass:"statistics"},[a("span",[e._v("工区数量"+e._s(e.store.store.state.SettingWorkareaStore.total)+"个")])]),a("div",{staticClass:"table-search"},[a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.openDialog("添加工区")}}},[e._v("添加工区")])],1),a("div",[a("span",[e._v("搜索:")]),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索工区，负责人，手机",size:"small",clearable:""},model:{value:e.store.store.state.SettingWorkareaStore.searchTable,callback:function(t){e.$set(e.store.store.state.SettingWorkareaStore,"searchTable",t)},expression:"store.store.state.SettingWorkareaStore.searchTable"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.searchTable}},[e._v("搜索")])],1)]),a("div",{staticClass:"table-wrap"},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.store.store.state.SettingWorkareaStore.tableData,"tooltip-effect":"dark","header-row-class-name":e.headerRow,"header-cell-class-name":e.headerRow,"cell-class-name":e.cell,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"workName",label:"工区","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"dutyPerson",label:"负责人","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"phone",label:"手机","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"station",label:"岗位","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"btn",on:{click:function(a){return e.openDialog("修改",t.row)}}},[e._v("修改")]),a("span",{staticClass:"btn",on:{click:function(a){return e.del(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{"current-page":e.store.store.state.SettingWorkareaStore.pageNumber,"page-size":e.store.store.state.SettingWorkareaStore.pageSize,layout:"total, prev, pager, next, jumper",total:e.store.store.state.SettingWorkareaStore.total},on:{"current-change":e.handleCurrentChange}})],1)]),a("div",{staticClass:"add"},[a("el-dialog",{staticStyle:{width:"30% , top:15vh"},attrs:{title:"添加工区",visible:e.dialog,"before-close":e.clear},on:{"update:visible":function(t){e.dialog=t}}},[a("ul",[a("li",[a("span",[e._v("工区名称：")]),a("span",{staticClass:"must"},[e._v("*")]),a("el-input",{attrs:{placeholder:"请输入",width:"200px"},model:{value:e.store.store.state.SettingWorkareaStore.workName,callback:function(t){e.$set(e.store.store.state.SettingWorkareaStore,"workName",t)},expression:"store.store.state.SettingWorkareaStore.workName"}})],1),a("li",[a("span",[e._v("负责人员：")]),a("span",{staticClass:"nomust"}),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.store.store.state.SettingWorkareaStore.dutyPerson,callback:function(t){e.$set(e.store.store.state.SettingWorkareaStore,"dutyPerson",t)},expression:"store.store.state.SettingWorkareaStore.dutyPerson"}},e._l(e.store.store.state.SettingWorkareaStore.managerList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("li",[a("span",[e._v("选择上级：")]),a("span",{staticClass:"nomust"}),a("el-input",{attrs:{placeholder:e.store.store.state.SettingWorkareaStore.projectId,width:"200px",disabled:""},model:{value:e.store.store.state.SettingWorkareaStore.projectName,callback:function(t){e.$set(e.store.store.state.SettingWorkareaStore,"projectName",t)},expression:"store.store.state.SettingWorkareaStore.projectName"}})],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.verify}},[e._v("确 定")])],1)])],1)])},n=[],o=(a("4160"),a("b0c0"),a("b64b"),a("ac1f"),a("841c"),a("159b"),a("96cf"),a("1da1")),s=a("d4ec"),i=a("bee2"),l=a("262e"),c=a("2caf"),u=a("9ab4"),p=a("60a3"),d=a("9006"),h=(a("d3b7"),a("0613")),f=a("7fc3"),g=a("350b"),b=a("7e57"),v=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(e){var r;return Object(s["a"])(this,a),r=t.call(this,e),r.url={},r.tableData=[],r.pageNumber=1,r.total=0,r.projectId=null,r.projectName="",r.pageSize=15,r.searchTable="",r.workName="",r.dutyPerson="",r.managerList=[],r.updateId=null,r.url=f["a"].settingWorkAreaStore,r}return Object(i["a"])(a,[{key:"getParams",value:function(){var e=this;return new Promise((function(t){var a={projectId:e.projectId,pageNum:e.pageNumber,pageSize:e.pageSize};e.searchTable&&(a.muchQuery=e.searchTable),t(a)}))}},{key:"getTableData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=g["a"],e.t1=this.url.table,e.next=4,this.getParams();case 4:e.t2=e.sent,e.t0.post.call(e.t0,e.t1,e.t2).then((function(e){0===e.code&&t.setTableData(e.data)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setTableData",value:function(e){this.tableData=e.list,this.pageNumber=e.pageNumber,this.pageSize=e.pageSize,this.total=e.total}},{key:"setProjectIdWrap",value:function(e){this.setProjectId(e),this.getTableData()}},{key:"setProjectId",value:function(e){console.log(e),this.projectId=e.id,this.projectName=e.name,this.pageNumber=1}},{key:"getAddParams",value:function(){var e=this;return new Promise((function(t){var a={workName:e.workName,managerId:e.dutyPerson};e.updateId?a.id=e.updateId:a.projectId=e.projectId,t(a)}))}},{key:"addOrUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=g["a"],e.t1=this.url.save,e.next=4,this.getAddParams();case 4:e.t2=e.sent,e.t0.post.call(e.t0,e.t1,e.t2).then((function(e){0===e.code&&(b["a"].success("成功!"),t.getTableData())}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"del",value:function(e){var t=this;g["a"].post(this.url.delete,{id:e}).then((function(e){0===e.code&&(b["a"].success("删除成功!"),t.getTableData())}))}},{key:"getManagerData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g["a"].post(this.url.managerList,{projectId:this.projectId}).then((function(e){0===e.code&&t.setManagerList(e.data)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setManagerList",value:function(e){this.managerList=e}}]),a}(d["d"]);Object(u["a"])([d["a"]],v.prototype,"getParams",null),Object(u["a"])([d["a"]],v.prototype,"getTableData",null),Object(u["a"])([d["c"]],v.prototype,"setTableData",null),Object(u["a"])([d["a"]],v.prototype,"setProjectIdWrap",null),Object(u["a"])([d["c"]],v.prototype,"setProjectId",null),Object(u["a"])([d["a"]],v.prototype,"getAddParams",null),Object(u["a"])([d["a"]],v.prototype,"addOrUpdate",null),Object(u["a"])([d["a"]],v.prototype,"del",null),Object(u["a"])([d["a"]],v.prototype,"getManagerData",null),Object(u["a"])([d["c"]],v.prototype,"setManagerList",null),v=Object(u["a"])([Object(d["b"])({namespaced:!0,stateFactory:!0,dynamic:!0,name:"SettingWorkareaStore",store:h["a"]})],v);var m=v,y=a("f36e"),k=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.call(this),e.state="",e.visible=!1,e.parentPeople=[{}],e.defaultProps={children:"children",label:"name"},e.role="",e.roleList=[{id:1,name:"123"},{id:2,name:"456"}],e.selectList=[],e.dialogTitle="",e.dialog=!1,e.superiorCompany=[{}],e.member=[{name:"工区名称",value:"",must:!0},{name:"负责人员",value:"",list:"asd"},{name:"选择上级",value:"",list:"asd"}],e.store=Object(d["e"])(m),e.settingOrganizationStore=Object(d["e"])(y["a"]),e}return Object(i["a"])(a,[{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.getElementsByClassName("el-input-group__append")[0],t.addEventListener("click",this.search),this.settingOrganizationStore.getTree(),e.next=5,this.settingOrganizationStore.getRoleList().then((function(e){0===e.code&&e.data.list.forEach((function(e,t){a.roleList.push({}),a.$set(a.roleList[t],"id",e.id),a.$set(a.roleList[t],"name",e.name)}))}));case 5:this.store.getManagerData();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleNodeClick",value:function(e){this.$set(this.superiorCompany[0],"name",e.name),this.$set(this.superiorCompany[0],"id",e.uuid),this.$set(this.parentPeople[0],"name",e.name),this.$set(this.parentPeople[0],"id",e.id),e.id!==this.store.store.state.SettingWorkareaStore.projectId&&this.store.setProjectIdWrap(e)}},{key:"search",value:function(){if(this.state)return this.$refs.attrList.store.defaultExpandAll=!0,void this.settingOrganizationStore.searchTree(this.state);this.$refs.attrList.store.defaultExpandAll=!1,this.settingOrganizationStore.getTree()}},{key:"handleSelectionChange",value:function(e){this.selectList=e}},{key:"headerRow",value:function(){return"table-header-bg"}},{key:"cell",value:function(){return"table-cell"}},{key:"handleCurrentChange",value:function(e){this.store.store.state.SettingWorkareaStore.pageNumber=e,this.store.getTableData({projectId:this.store.store.state.SettingWorkareaStore.projectId})}},{key:"openDialog",value:function(e,t){if("修改"===e&&(this.store.store.state.SettingWorkareaStore.updateId=t.id,this.store.store.state.SettingWorkareaStore.workName=t.workName,this.store.store.state.SettingWorkareaStore.dutyPerson=t.dutyPerson,this.store.store.state.SettingWorkareaStore.projectId=t.projectId),"添加工区"===e&&(this.store.store.state.SettingWorkareaStore.updateId=null,this.store.store.state.SettingWorkareaStore.workName=null,this.store.store.state.SettingWorkareaStore.dutyPerson=null),Object.keys(this.superiorCompany[0]).length)return this.dialogTitle=e,void(this.dialog=!0);b["a"].warning("请选择父级公司或项目")}},{key:"clear",value:function(){this.dialog=!1,this.store.store.state.SettingWorkareaStore.workName=null,this.store.store.state.SettingWorkareaStore.dutyPerson=null}},{key:"verify",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.store.store.state.SettingWorkareaStore.workName){e.next=3;break}return b["a"].warning("*号项为必填项!"),e.abrupt("return");case 3:this.store.addOrUpdate(),this.dialog=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"del",value:function(e){this.store.del(e),this.visible=!1}},{key:"searchTable",value:function(){this.store.getTableData()}}]),a}(p["b"]);k=Object(u["a"])([Object(p["a"])({})],k);var S=k,j=S,w=(a("b037"),a("2877")),x=Object(w["a"])(j,r,n,!1,null,null,null);t["default"]=x.exports},"14c3":function(e,t,a){var r=a("c6b6"),n=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var o=a.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"159b":function(e,t,a){var r=a("da84"),n=a("fdbc"),o=a("17c2"),s=a("9112");for(var i in n){var l=r[i],c=l&&l.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(u){c.forEach=o}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,n=a("a640"),o=a("ae40"),s=n("forEach"),i=o("forEach");e.exports=s&&i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"7e57":function(e,t,a){"use strict";var r=a("5c96");function n(e,t){Object(r["Message"])({message:t,type:e,showClose:!0,center:!0,customClass:"message-box"})}t["a"]={success:function(e){n("success",e)},warning:function(e){console.log(e),e?e.response&&e.response.data&&e.response.data.message?n("warning",e.response.data.message):e.message||n("warning",e.message||e):n("warning","未知错误！")},error:function(e){console.log(e),e?e.response&&e.response.data&&e.response.data.message?n("error",e.response.data.message):e.message||n("error",e.message||e):n("error","未知错误！")}}},"841c":function(e,t,a){"use strict";var r=a("d784"),n=a("825a"),o=a("1d80"),s=a("129f"),i=a("14c3");r("search",1,(function(e,t,a){return[function(t){var a=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,a):new RegExp(t)[e](String(a))},function(e){var r=a(t,e,this);if(r.done)return r.value;var o=n(e),l=String(this),c=o.lastIndex;s(c,0)||(o.lastIndex=0);var u=i(o,l);return s(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},"857a":function(e,t,a){var r=a("1d80"),n=/"/g;e.exports=function(e,t,a,o){var s=String(r(e)),i="<"+t;return""!==a&&(i+=" "+a+'="'+String(o).replace(n,"&quot;")+'"'),i+">"+s+"</"+t+">"}},9263:function(e,t,a){"use strict";var r=a("ad6d"),n=a("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,i=o,l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],p=l||u||c;p&&(i=function(e){var t,a,n,i,p=this,d=c&&p.sticky,h=r.call(p),f=p.source,g=0,b=e;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),b=String(e).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==e[p.lastIndex-1])&&(f="(?: "+f+")",b=" "+b,g++),a=new RegExp("^(?:"+f+")",h)),u&&(a=new RegExp("^"+f+"$(?!\\s)",h)),l&&(t=p.lastIndex),n=o.call(d?a:p,b),d?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=p.lastIndex,p.lastIndex+=n[0].length):p.lastIndex=0:l&&n&&(p.lastIndex=p.global?n.index+n[0].length:t),u&&n&&n.length>1&&s.call(n[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=i},9911:function(e,t,a){"use strict";var r=a("23e7"),n=a("857a"),o=a("af03");r({target:"String",proto:!0,forced:o("link")},{link:function(e){return n(this,"a","href",e)}})},"9f7f":function(e,t,a){"use strict";var r=a("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},ac1f:function(e,t,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ae40:function(e,t,a){var r=a("83ab"),n=a("d039"),o=a("5135"),s=Object.defineProperty,i={},l=function(e){throw e};e.exports=function(e,t){if(o(i,e))return i[e];t||(t={});var a=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:l,p=o(t,1)?t[1]:void 0;return i[e]=!!a&&!n((function(){if(c&&!r)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:l}):e[1]=1,a.call(e,u,p)}))}},af03:function(e,t,a){var r=a("d039");e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b037:function(e,t,a){"use strict";var r=a("f6c2"),n=a.n(r);n.a},b0c0:function(e,t,a){var r=a("83ab"),n=a("9bf2").f,o=Function.prototype,s=o.toString,i=/^\s*function ([^ (]*)/,l="name";r&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(e){return""}}})},b64b:function(e,t,a){var r=a("23e7"),n=a("7b0b"),o=a("df75"),s=a("d039"),i=s((function(){o(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(e){return o(n(e))}})},c328:function(e,t,a){"use strict";a("99af"),a("d3b7"),a("25f0");var r=a("d4ec"),n=a("bee2"),o=function(){function e(t){Object(r["a"])(this,e),this.date=t}return Object(n["a"])(e,[{key:"getString",value:function(e){var t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return"".concat(t,"-").concat(a<10?"0"+a.toString():a,"-").concat(r<10?"0"+r.toString():r)}},{key:"get",value:function(){if(Array.isArray(this.date)){var e=this.getString(this.date[0]),t=this.getString(this.date[1]);return"".concat(e,"~").concat(t)}return this.getString(this.date)}}]),e}();t["a"]=o},d784:function(e,t,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),o=a("b622"),s=a("9263"),i=a("9112"),l=o("species"),c=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),p=o("replace"),d=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),h=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,p){var f=o(e),g=!n((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),b=g&&!n((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[f]=/./[f]),a.exec=function(){return t=!0,null},a[f](""),!t}));if(!g||!b||"replace"===e&&(!c||!u||d)||"split"===e&&!h){var v=/./[f],m=a(f,""[e],(function(e,t,a,r,n){return t.exec===s?g&&!n?{done:!0,value:v.call(t,a,r)}:{done:!0,value:e.call(a,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=m[0],k=m[1];r(String.prototype,e,y),r(RegExp.prototype,f,2==t?function(e,t){return k.call(e,this,t)}:function(e){return k.call(e,this)})}p&&i(RegExp.prototype[f],"sham",!0)}},f36e:function(e,t,a){"use strict";a("4160"),a("b0c0"),a("9911"),a("159b"),a("96cf");var r=a("1da1"),n=a("d4ec"),o=a("bee2"),s=a("262e"),i=a("2caf"),l=a("9ab4"),c=a("9006"),u=a("0613"),p=a("7fc3"),d=a("350b"),h=a("7e57"),f=a("c328"),g=function(e){Object(s["a"])(a,e);var t=Object(i["a"])(a);function a(e){var r;return Object(n["a"])(this,a),r=t.call(this,e),r.url={},r.tableData=[],r.pageIndex=1,r.total=0,r.tree=[],r.projectId=null,r.pageSize=15,r.name=null,r.phone=null,r.allTotal=0,r.url=p["a"].settingOrganization,r}return Object(o["a"])(a,[{key:"getTypeList",value:function(e){return d["a"].post(this.url.typeList,{groupType:e})}},{key:"getTree",value:function(){var e=this;d["a"].post(this.url.tree,{projectId:sessionStorage.getItem("seeProjectId")}).then((function(t){0===t.code&&(e.treeData(t.data),e.setProjectIdWrap(t.data[0].id))}))}},{key:"getRoleList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d["a"].post(this.url.roleList,{}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setProjectIdWrap",value:function(e){this.setProjectId(e),this.getTable()}},{key:"setProjectId",value:function(e){this.projectId=e,this.pageIndex=1}},{key:"searchTree",value:function(e){var t=this;d["a"].post(this.url.treeSearch,{name:e,projectId:sessionStorage.getItem("seeProjectId")}).then((function(e){0===e.code&&t.treeData(e.data)}))}},{key:"treeData",value:function(e){this.tree=e||[]}},{key:"add",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,o,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.name,r=t.list,n=t.id,o=void 0===n?null:n,s=this.url,i=null,e.t0=a,e.next="添加成员"===e.t0?6:"修改成员"===e.t0?8:"新建公司"===e.t0?10:"新建项目"===e.t0?13:16;break;case 6:return s=s.people,e.abrupt("break",17);case 8:return s=s.people,e.abrupt("break",17);case 10:return s=s.add,i="subCompany",e.abrupt("break",17);case 13:return s=s.add,i="project",e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:return e.abrupt("return",this.dialogRequest({url:s,list:r,id:o,deptTypeNo:i}));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dialogRequest",value:function(e){var t=e.url,a=e.list,r=e.id,n=e.deptTypeNo,o={};return a.forEach((function(e){switch(e.link){case"actual":e.value&&e.value.length&&(o.actualStartTime=new f["a"](e.value[0]).get(),o.actualEndTime=new f["a"](e.value[1]).get());break;case"contract":e.value&&e.value.length&&(o.contractStartTime=new f["a"](e.value[0]).get(),o.contractEndTime=new f["a"](e.value[1]).get());break;case"projectAddress":e.value&&e.value.length&&(o.longitude=e.value[0],o.latitude=e.value[1]);break;default:o[e.link]=e.value;break}})),r&&(o.id=r),n&&(o.deptTypeNo=n),d["a"].post(t,o)}},{key:"getTable",value:function(){var e=this;d["a"].post(this.url.table,{projectId:this.projectId,name:this.name,phone:this.phone,pageSize:this.pageSize,pageNum:this.pageIndex}).then((function(t){0===t.code&&(e.setTable(t.data),e.name||e.phone||e.setAllTotal(t.data.total))})).catch((function(e){console.log(e)}))}},{key:"setTable",value:function(e){this.total=e.total,this.tableData=e.list}},{key:"setAllTotal",value:function(e){this.allTotal=e}},{key:"del",value:function(e){var t=this;d["a"].post(this.url.del,{id:e}).then((function(e){0===e.code&&(h["a"].success("删除成功!"),t.setProjectId(t.projectId),t.getTable())}))}},{key:"getPeople",value:function(e){return d["a"].post(this.url.searchPeople,{id:e})}},{key:"refresh",value:function(){this.setTable([]),this.setProjectId(null),this.treeData(null),this.setAllTotal(0)}}]),a}(c["d"]);Object(l["a"])([c["a"]],g.prototype,"getTypeList",null),Object(l["a"])([c["a"]],g.prototype,"getTree",null),Object(l["a"])([c["a"]],g.prototype,"getRoleList",null),Object(l["a"])([c["a"]],g.prototype,"setProjectIdWrap",null),Object(l["a"])([c["c"]],g.prototype,"setProjectId",null),Object(l["a"])([c["a"]],g.prototype,"searchTree",null),Object(l["a"])([c["c"]],g.prototype,"treeData",null),Object(l["a"])([c["a"]],g.prototype,"add",null),Object(l["a"])([c["a"]],g.prototype,"dialogRequest",null),Object(l["a"])([c["a"]],g.prototype,"getTable",null),Object(l["a"])([c["c"]],g.prototype,"setTable",null),Object(l["a"])([c["c"]],g.prototype,"setAllTotal",null),Object(l["a"])([c["a"]],g.prototype,"del",null),Object(l["a"])([c["a"]],g.prototype,"getPeople",null),Object(l["a"])([c["a"]],g.prototype,"refresh",null),g=Object(l["a"])([Object(c["b"])({namespaced:!0,stateFactory:!0,dynamic:!0,name:"SettingOrganizationStore",store:u["a"]})],g),t["a"]=g},f6c2:function(e,t,a){}}]);
//# sourceMappingURL=chunk-40a793ce.ff95d395.js.map