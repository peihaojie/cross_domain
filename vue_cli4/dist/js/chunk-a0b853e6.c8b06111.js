(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0b853e6"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var l=a("1d80"),n=a("5899"),r="["+n+"]",i=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),o=function(e){return function(t){var a=String(l(t));return 1&e&&(a=a.replace(i,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},6184:function(e,t,a){"use strict";var l=a("fc2d"),n=a.n(l);n.a},7156:function(e,t,a){var l=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var r,i;return n&&"function"==typeof(r=t.constructor)&&r!==a&&l(i=r.prototype)&&i!==a.prototype&&n(e,i),e}},"7eb5":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"allHiddenDanger-wrap"}},[a("div",{staticClass:"search-wrap"},[0==e.pullDown?a("div",{staticClass:"left"},[e._m(0),a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.store.store.state.AllHiddenDangerStore.dateModel,callback:function(t){e.$set(e.store.store.state.AllHiddenDangerStore,"dateModel",t)},expression:"store.store.state.AllHiddenDangerStore.dateModel"}}),a("div",{staticClass:"rightMidle"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.searchData()}}},[e._v("搜索")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.clearData()}}},[e._v("重置")]),0==e.item?a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-down"},on:{click:function(t){return e.changeItem()}}}):a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-up"},on:{click:function(t){return e.changeItem()}}})],1)],1):a("div",{staticClass:"button",staticStyle:{display:"show"}},[a("div",{staticClass:"left"},[e._m(1),a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.store.store.state.AllHiddenDangerStore.dateModel,callback:function(t){e.$set(e.store.store.state.AllHiddenDangerStore,"dateModel",t)},expression:"store.store.state.AllHiddenDangerStore.dateModel"}})],1),a("el-input",{attrs:{clearable:"",placeholder:"全部组织"},model:{value:e.value12,callback:function(t){e.value12=t},expression:"value12"}}),a("el-select",{attrs:{filterable:"",placeholder:"超时状态：全部"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.timeOut,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{attrs:{clearable:"",placeholder:"事故隐患：全部"},model:{value:e.store.store.state.AllHiddenDangerStore.hazardLevel,callback:function(t){e.$set(e.store.store.state.AllHiddenDangerStore,"hazardLevel",t)},expression:"store.store.state.AllHiddenDangerStore.hazardLevel"}},e._l(e.accidentLevel,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{attrs:{clearable:"",placeholder:"检查结果：全部"},model:{value:e.store.store.state.AllHiddenDangerStore.inspectionResult,callback:function(t){e.$set(e.store.store.state.AllHiddenDangerStore,"inspectionResult",t)},expression:"store.store.state.AllHiddenDangerStore.inspectionResult"}},e._l(e.checkResult,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{attrs:{clearable:"",placeholder:"检查类型：全部"},model:{value:e.store.store.state.AllHiddenDangerStore.inspectionType,callback:function(t){e.$set(e.store.store.state.AllHiddenDangerStore,"inspectionType",t)},expression:"store.store.state.AllHiddenDangerStore.inspectionType"}},e._l(e.checkType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{attrs:{clearable:"",placeholder:"检查人：全部"},model:{value:e.store.store.state.AllHiddenDangerStore.inspector,callback:function(t){e.$set(e.store.store.state.AllHiddenDangerStore,"inspector",t)},expression:"store.store.state.AllHiddenDangerStore.inspector"}}),a("div",{staticClass:"rightMidle"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.searchData()}}},[e._v("搜索")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.clearData()}}},[e._v("重置")]),0==e.item?a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-down"},on:{click:function(t){return e.changeItem()}}}):a("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-up"},on:{click:function(t){return e.changeItem()}}})],1)],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading"}],staticClass:"table-wrap",attrs:{"element-loading-text":"拼命加载中..."}},[a("el-table",{ref:"table",attrs:{data:e.store.store.state.AllHiddenDangerStore.tableData,stripe:"",width:"100%"}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"70",index:e.getIndex}}),a("el-table-column",{attrs:{prop:"inspectionResult",label:"检查结果",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(1===t.row.inspectionResult?"合格":2===t.row.inspectionResult?"待整改":"待复查"))])]}}])}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:""}}),a("el-table-column",{attrs:{prop:"inspector",label:"检查人"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticStyle:{"line-height":"20px"}},[e._v(e._s(t.row.inspector))]),a("p",{staticStyle:{"line-height":"20px"}},[e._v("检查时间：")]),a("p",{staticStyle:{"line-height":"20px"}},[e._v(e._s(t.row.inspectionTime))])]}}])}),a("el-table-column",{attrs:{prop:"hazardLevel",label:"隐患信息",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.hazardLevel?"info":"danger","disable-transitions":""}},[e._v(e._s(1===t.row.hazardLevel?"一般":"重大"))]),a("p",{staticStyle:{"white-space":"nowrap",display:"inline-block",width:"250px","text-overflow":"ellipsis",overflow:"hidden","line-height":"13px"},attrs:{title:t.row.dangerInformation}},[e._v(e._s(t.row.dangerInformation))]),a("p",{staticStyle:{"white-space":"nowrap",display:"inline-block",width:"350px","text-overflow":"ellipsis",overflow:"hidden"},attrs:{title:t.row.subcontractor}},[e._v(e._s(t.row.subcontractor))])]}}])}),a("el-table-column",{attrs:{prop:"workRegion",label:"工区","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"rectifiedBy",label:"整改人","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"reviewedBy",label:"复查人","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"inspectionType",label:"检查类型","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"img-wrap",staticStyle:{color:"#409eff",position:"relative"},on:{click:function(a){return e.details(t.row.id)}}},[e._v("查看详情")])]}}])})],1)],1),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{"current-page":e.store.store.state.AllHiddenDangerStore.pageNumber,"page-size":e.store.store.state.AllHiddenDangerStore.pageSize,layout:"total, prev, pager, next, jumper",total:e.store.store.state.AllHiddenDangerStore.totalPage},on:{"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"查看详情",visible:e.store.store.state.AllHiddenDangerStore.centerDialogVisible,center:""},on:{"update:visible":function(t){return e.$set(e.store.store.state.AllHiddenDangerStore,"centerDialogVisible",t)}}},e._l(e.store.store.state.AllHiddenDangerStore.listData,(function(t){return a("div",[a("div",{staticClass:"head"},[e._v(e._s(1===t.recordType?"隐患记录":2===t.recordType?"整改记录":"复查记录"))]),a("div",{staticClass:"line"}),a("div",{staticClass:"contenxt"},[a("div",{staticStyle:{position:"absolute",left:"1%"}},[1===t.recordType?a("span",[e._v("待查结果："+e._s(1===t.inspectionResult?"合格":2===t.inspectionResult?"待整改":"待复查"))]):2===t.recordType?a("span",[e._v("整改状态："+e._s(1===t.inspectionResult?"合格":2===t.inspectionResult?"待整改":"待复查"))]):a("span",[e._v("复查状态："+e._s(1===t.inspectionResult?"合格":2===t.inspectionResult?"待整改":"待复查"))])]),a("div",{staticStyle:{position:"absolute",left:"15%"}},[1===t.recordType?a("span",[e._v("检查时间："+e._s(t.inspectionTime))]):a("span",[e._v("整改时间："+e._s(t.inspectionTime))])]),a("div",{staticStyle:{position:"absolute",left:"1%",top:"50%"}},[1===t.recordType?a("span",[e._v("检查人："+e._s(t.inspector))]):2===t.recordType?a("span",[e._v("整改人："+e._s(t.inspector))]):a("span",[e._v("复查人："+e._s(t.inspector))])]),t.dutyRegion?a("div",{staticStyle:{position:"absolute",left:"15%",top:"50%"}},[a("span",[e._v("责任区域："+e._s(t.dutyRegion))])]):e._e()]),1===t.recordType?a("div",{staticClass:"img"},[a("p",[e._v("项目名称："+e._s(t.projectName))]),a("p",[e._v("隐患明细："+e._s(t.dangerDetails))]),a("p",[e._v("检查类型："+e._s(t.inspectionType))]),a("p",[e._v("分包单位："+e._s(t.subcontractor))]),a("p",[e._v(" 整改人："+e._s(t.rectifiedBy))]),a("p",[e._v("整改时限："+e._s(t.rectificationTime))]),a("p",[e._v("相关照片：")]),a("div",{staticClass:"picture"},e._l(t.urls,(function(e){return a("img",{attrs:{src:e}})})),0),a("p")]):a("div",{staticClass:"img"},[a("p",[e._v(" 说明："+e._s(t.description))]),a("p",[e._v("相关照片：")]),a("div",{staticClass:"picture"},e._l(t.urls,(function(e){return a("img",{attrs:{src:e}})})),0),a("p")])])})),0)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{attrs:{width:"100%",height:"5px"}},[a("tr",[a("td")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{attrs:{width:"100%",height:"5px"}},[a("tr",[a("td")])])}],r=(a("a9e3"),a("d4ec")),i=a("bee2"),s=a("262e"),o=a("2caf"),c=a("9ab4"),u=a("60a3"),d=a("9006"),p=(a("d3b7"),a("96cf"),a("1da1")),v=a("0613"),g=a("7fc3"),b=a("350b"),f=a("c328"),h=a("5c96"),m=function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(e){var l;return Object(r["a"])(this,a),l=t.call(this,e),l.url={},l.pageNumber=1,l.pageSize=8,l.totalPage=0,l.tableData=[],l.inspector=null,l.inspectionType=null,l.projectName=null,l.hazardLevel=null,l.inspectionResult=null,l.dateModel=null,l.startTime=null,l.endTime=null,l.listData=null,l.centerDialogVisible=!1,l.url=g["a"].allHiddenDangerStore,l}return Object(i["a"])(a,[{key:"getParams",value:function(){var e=this;return new Promise((function(t){var a={pageNum:e.pageNumber,pageSize:e.pageSize};e.inspector&&(a.inspector=e.inspector),e.inspectionType&&(a.inspectionType=e.inspectionType),e.projectName&&(a.projectName=e.projectName),e.hazardLevel&&(a.hazardLevel=e.hazardLevel),e.inspectionResult&&(a.inspectionResult=e.inspectionResult),e.dateModel&&(a.startTime=new f["a"](e.dateModel[0]).get(),a.endTime=new f["a"](e.dateModel[1]).get()),t(a)}))}},{key:"getData",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=b["a"],e.t1=this.url.getData,e.next=4,this.getParams();case 4:e.t2=e.sent,e.t0.post.call(e.t0,e.t1,e.t2).then((function(e){0===e.code&&t.setTableData(e.data)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setTableData",value:function(e){this.tableData=e.list,this.pageNumber=e.pageNumber,this.pageSize=e.pageSize,this.totalPage=e.total}},{key:"getList",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:b["a"].post(this.url.getList,{dangerInspectId:t}).then((function(e){var t=h["Message"];0===e.code&&(0===e.data.length?(t.warning("暂无数据"),a.details(e.data.length)):(a.details(e.data.length),a.setListData(e.data)))}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setListData",value:function(e){this.listData=e}},{key:"details",value:function(e){this.centerDialogVisible=e>0}}]),a}(d["d"]);Object(c["a"])([d["a"]],m.prototype,"getParams",null),Object(c["a"])([d["a"]],m.prototype,"getData",null),Object(c["a"])([d["c"]],m.prototype,"setTableData",null),Object(c["a"])([d["a"]],m.prototype,"getList",null),Object(c["a"])([d["c"]],m.prototype,"setListData",null),Object(c["a"])([d["c"]],m.prototype,"details",null),m=Object(c["a"])([Object(d["b"])({namespaced:!0,stateFactory:!0,dynamic:!0,name:"AllHiddenDangerStore",store:v["a"]})],m);var y=m,_=function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.call(this),e.centerDialogVisible=!1,e.test="supercarrydoinb",e.item=!1,e.pullDown=!1,e.value1="",e.value12="",e.url="https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",e.TEMPERATURE=37.5,e.searchCheckeds={eafName:null,rateWorkType:null,grade:null,rank:null,modifyBy:null,company:null,project:null},e.accidentLevel=[{label:"一般",value:"1"},{label:"重大",value:"2"}],e.timeOut=[{value:"1",label:"正常整改"},{value:"2",label:"超时整改"},{value:"3",label:"正常复查"},{value:"4",label:"超时复查"}],e.checkResult=[{label:"无需整改",value:"1"},{label:"待整改",value:"2"},{label:"待复查",value:"3"},{label:"合格",value:"4"},{label:"不合格",value:"5"}],e.checkType=[{label:"日常检查",value:"1"},{label:"周检",value:"2"},{label:"月检",value:"3"},{label:"季检",value:"4"}],e.checkMen=[{label:"曹启泰（安全员）（18178888888)",value:"1"},{label:"曹启泰（安全员）（18178888888)",value:"2"},{label:"曹启泰（安全员）（18178888888)",value:"3"},{label:"曹启泰（安全员）（18178888888)",value:"4"}],e.store=Object(d["e"])(y),e}return Object(i["a"])(a,[{key:"mounted",value:function(){this.store.getData()}},{key:"searchData",value:function(){this.store.getData()}},{key:"clearData",value:function(){this.store.store.state.AllHiddenDangerStore.dateModel=null,this.store.store.state.AllHiddenDangerStore.hazardLevel=null,this.store.store.state.AllHiddenDangerStore.inspectionResult=null,this.store.store.state.AllHiddenDangerStore.inspectionType=null,this.store.store.state.AllHiddenDangerStore.inspector=null,this.store.getData()}},{key:"details",value:function(e){this.store.getList(e)}},{key:"changeItem",value:function(){this.item=!this.item,this.pullDown=!this.pullDown}},{key:"handleCurrentChange",value:function(e){this.store.store.state.AllHiddenDangerStore.pageNumber=e,this.store.getData()}},{key:"getIndex",value:function(e){return(Number(this.store.store.state.AllHiddenDangerStore.pageNumber)-1)*Number(this.store.store.state.AllHiddenDangerStore.pageSize)+e+1}}]),a}(u["b"]);_=Object(c["a"])([Object(u["a"])({})],_);var w=_,D=w,S=(a("9fd4"),a("6184"),a("2877")),k=Object(S["a"])(D,l,n,!1,null,"c6b8d318",null);t["default"]=k.exports},"900a":function(e,t,a){},"9fd4":function(e,t,a){"use strict";var l=a("900a"),n=a.n(l);n.a},a9e3:function(e,t,a){"use strict";var l=a("83ab"),n=a("da84"),r=a("94ca"),i=a("6eeb"),s=a("5135"),o=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),v=a("241c").f,g=a("06cf").f,b=a("9bf2").f,f=a("58a8").trim,h="Number",m=n[h],y=m.prototype,_=o(p(y))==h,w=function(e){var t,a,l,n,r,i,s,o,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=f(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:l=2,n=49;break;case 79:case 111:l=8,n=55;break;default:return+c}for(r=c.slice(2),i=r.length,s=0;s<i;s++)if(o=r.charCodeAt(s),o<48||o>n)return NaN;return parseInt(r,l)}return+c};if(r(h,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var D,S=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof S&&(_?d((function(){y.valueOf.call(a)})):o(a)!=h)?c(new m(w(t)),a,S):w(t)},k=l?v(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;k.length>A;A++)s(m,D=k[A])&&!s(S,D)&&b(S,D,g(m,D));S.prototype=y,y.constructor=S,i(n,h,S)}},c328:function(e,t,a){"use strict";a("99af"),a("d3b7"),a("25f0");var l=a("d4ec"),n=a("bee2"),r=function(){function e(t){Object(l["a"])(this,e),this.date=t}return Object(n["a"])(e,[{key:"getString",value:function(e){var t=e.getFullYear(),a=e.getMonth()+1,l=e.getDate();return"".concat(t,"-").concat(a<10?"0"+a.toString():a,"-").concat(l<10?"0"+l.toString():l)}},{key:"get",value:function(){if(Array.isArray(this.date)){var e=this.getString(this.date[0]),t=this.getString(this.date[1]);return"".concat(e,"~").concat(t)}return this.getString(this.date)}}]),e}();t["a"]=r},fc2d:function(e,t,a){}}]);
//# sourceMappingURL=chunk-a0b853e6.c8b06111.js.map